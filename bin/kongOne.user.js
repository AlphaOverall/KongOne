var PRS$0=function(A,e){return A.__proto__={a:e},A.a===e}({},{}),DP$0=Object.defineProperty,GOPD$0=Object.getOwnPropertyDescriptor,MIXIN$0=function(A,e){for(var t in e)e.hasOwnProperty(t)&&DP$0(A,t,GOPD$0(e,t));return A},SP$0=Object.setPrototypeOf||function(A,e){return PRS$0?A.__proto__=e:DP$0(A,"__proto__",{value:e,configurable:!0,enumerable:!1,writable:!0}),A},OC$0=Object.create,Script=function(){"use strict";function A(A,e,t){this.name=A,this.path=e,this.dom=null,this.defaultEnabled=t}var e={};return DP$0(A,"prototype",{configurable:!1,enumerable:!1,writable:!1}),e.checkPath=function(){var A=document.location.pathname;return A.match(this.path)},e.initialize=function(){this.dom="undefined"==typeof unsafeWindow?window:unsafeWindow,this.defaultEnabled||"null"!=GM_getValue("onescript-"+this.name,"null")||GM_setValue("onescript-"+this.name,"false"),this.checkPath()&&"true"==GM_getValue("onescript-"+this.name,"true")&&(console.log("[KongOne] Adding Script: "+this.name),this.run(),this.added=!0)},e.run=function(){throw"run() not implemented for #{this.name} script"},MIXIN$0(A.prototype,e),e=void 0,A}(),HolodeckScript=function(A){"use strict";function e(e,t,o){A.prototype.constructor.call(this,e,t,o),this.holodeckCheckCounter=0}PRS$0||MIXIN$0(e,A);var t={};return null!==A&&SP$0(e,A),e.prototype=OC$0(null!==A?A.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),DP$0(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),t.initialize=function(){var t=this;return this.holodeckCheckCounter++,"undefined"!=typeof holodeck&&holodeck.ready?void A.prototype.initialize.call(this):this.holodeckCheckCounter>e.COUNTER_LIMIT?void console.log("[KongOne] "+this.name+" failed to load holodeck"):void setTimeout(function(){return t.initialize()},100)},MIXIN$0(e.prototype,t),t=void 0,e}(Script);HolodeckScript.COUNTER_LIMIT=100;var ChatLineHighlight=function(A){"use strict";function e(){A.prototype.constructor.call(this,"Chat Line Highlight","games",!0)}PRS$0||MIXIN$0(e,A);var t={};return null!==A&&SP$0(e,A),e.prototype=OC$0(null!==A?A.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),DP$0(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),t.run=function(){var A=this.dom,e=A.holodeck,t=A.ChatDialogue,o=A.ChatRoom,i=A.ChatWindow;if(o&&t&&(t.prototype=A.CDprototype||A.ChatDialogue.prototype,o.prototype=A.CRprototype||A.ChatRoom.prototype,i.prototype=A.CWprototype||A.ChatWindow.prototype,!t.prototype.searchWord)){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),t.prototype.searchWord=function(A,e){for(var t=0;t<e.length;t++){var o=e[t].replace(/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,"\\$1"),i=new RegExp("\\b"+o+"\\b");if(i.test(A))return!0}return!1},t.prototype.searchUser=function(A){return this.searchWord(A,this._holodeck._hluser)},t.prototype.searchText=function(A){var e=this._holodeck,t=e._highlighting.concat([e._username.toLowerCase()]);return this.searchWord(A,t)},i.prototype.hlFriend=function(A){return this._holodeck._hl_friends&&this.isFriend(A)},i.prototype.hlMod=function(A){if(this._holodeck._hl_mods)return this._rooms.any(function(e){var t=e[1],o=t.user(A);return o&&t.canUserModerate(o)})},i.prototype.friendOrMod=function(A){if(A.toLowerCase()==this._holodeck._username.toLowerCase())return"";var e=[];return this.hlMod(A)&&e.push(" hlmod"),this.hlFriend(A)&&e.push(" hlfriend"),e.length>1?e[this._holodeck._hl_priority]:e[0]||""},t.prototype.displayUnsanitizedMessageOldHighlight=t.prototype.displayUnsanitizedMessage,t.prototype.displayUnsanitizedMessage=function(A,t,o,i){o||(o={});var n=o.class||"",a=n.indexOf("whisper")>=0;if(i&&i.private||(n+=this._user_manager.friendOrMod(A.toLowerCase())),!a&&!this._user_manager.isMuted(A.toLowerCase())&&(this.searchUser(A.toLowerCase())||this.searchText(t.toLowerCase()))&&(n+=" highlight","function"==typeof this.new_private_message)){var r=e._pm_chime;e._pm_chime=e._hl_chime,this.new_private_message(),e._pm_chime=r}o.class=n,this.displayUnsanitizedMessageOldHighlight(A,t,o,i)},e.addChatCommand("highlight",function(A,e){var t=e.match(/^\/\S+\s+(.+)/),o="";return t&&(o=t[1]),o&&(o=o.replace(/\s+/g," ").trim(),window.setTimeout(function(){GM_setValue("kong_highlighting",o.toLowerCase())},0),A.activeDialogue().kongBotMessage("Now highlighting: "+o+" "+A._username),A._highlighting=o.toLowerCase().split(" ")),!1}),e.addChatCommand("hluser",function(A,e){var t=e.match(/^\/\S+\s+(.+)/),o="";return t&&(o=t[1]),o&&(o=o.replace(/\s+/g," ").trim(),window.setTimeout(function(){GM_setValue("kong_highlightuser",o.toLowerCase())},0),A.activeDialogue().kongBotMessage("Now highlighting user(s): "+o),A._hluser=o.toLowerCase().split(" ")),!1});var n=function(A,e,t){return function(o,i){return o["_hl_"+A]?(o["_hl_"+A]=0,o.activeDialogue().kongBotMessage(e||"Stopped highlighting messages by "+A)):(o["_hl_"+A]=1,o.activeDialogue().kongBotMessage(t||"Now highlighting messages by "+A)),window.setTimeout(function(){GM_setValue("kong_highlight"+A,o["_hl_"+A])},0),!1}};e.addChatCommand("hlmods",n("mods")),e.addChatCommand("hlfriends",n("friends")),e.addChatCommand("hlchime",n("chime","Stopped playing the chime for highlighted messages","Now playing the chime for highlighted messages")),e.addChatCommand("hlpriority",n("priority","Now prioritizing mods over friends","Now prioritizing friends over mods"));var a=function(A,e,t,o,i){return i||(i=1),function(n,a){var r=a.match(/^\/\S+\s+#?([0-9a-f]{6})/i),s="",l=0;if(r&&(s="#"+r[1]),s){for(var h=function(){return GM_setValue("kong_"+t,s)},c=0;c<v.cssRules.length;c++)if(0===v.cssRules[c].selectorText.indexOf(A)&&(v.cssRules[c].style.setProperty(e,s,"important"),++l==i))return window.setTimeout(h,0),n.activeDialogue().kongBotMessage("New "+(o||t)+": "+s),!1}else n.activeDialogue().kongBotMessage("No valid color! Format is /"+t+" XXXXXX (X = hex character)");return!1}};e.addChatCommand("whispercolor",a("#kong_game_ui .chat_message_window .whisper","background-color","whispercolor")),e.addChatCommand("friendcolor",a("#kong_game_ui .chat_message_window .hlfriend span.chat_message_window_username","color","friendcolor")),e.addChatCommand("hlcolor",a("#kong_game_ui .chat_message_window .highlight","background-color","hlcolor","highlighting-color",2)),e.addChatCommand("modcolor",a("#kong_game_ui .chat_message_window .hlmod span.chat_message_window_username","color","modcolor")),e.addChatCommand("hllist",function(A,t){function o(A){i.displayUnsanitizedMessage("Kong Bot",A,{class:"whisper received_whisper"},{non_user:!0})}var i=A.activeDialogue();return o("Current highlighting settings:"),e._hluser.length>0?(o("Users:"),o("Users: "+e._hluser.map(function(A){return['<a href="#" onclick="holodeck.showMiniProfile(\'',A,"'); return false;\">",A,"</a>"].join("")}).join(" "))):o("No users highlighted"),o(e._highlighting.length>0?"Words: "+e._highlighting.join(" "):"No words highlighted"),o('Highlight color: <span style="color: '+r+'">'+r+"</span>"),o('Whisper color: <span style="color: '+s+'">'+s+"</span>"),o("Highlighting friends: "+(e._hl_friends?"Yes":"No")+' (color: <span style="color: '+l+'">'+l+"</span>)"),o("Highlighting mods: "+(e._hl_mods?"Yes":"No")+' (color: <span style="color: '+h+'">'+h+"</span>)"),o("Highlight priority: "+(e._hl_priority?"Friends over mods":"Mods over friends")),o("Playing chime: "+(e._hl_chime?"undefined"!=typeof e._pm_chime?"Yes":'No, <a href="http://userscripts.org/scripts/show/65622">script</a> not installed':"No")),!1}),e.addChatCommand("hlreset",function(A,t){var o=A.activeDialogue();return o.kongBotMessage("Resetting all highlighting preferences"),e._chat_commands.hlcolor[0](e,"/color #def6ea"),e._chat_commands.whispercolor[0](e,"/color #deeaf6"),e._chat_commands.friendcolor[0](e,"/color #006600"),e._chat_commands.modcolor[0](e,"/color #ba6328"),e._hl_priority=1,e._hl_friends=1,e._hl_mods=1,e._hl_chime=1,e._highlighting=[],e._hluser=[],["highlighting","highlightuser","hlcolor","whispercolor","friendcolor","modcolor","highlightfriends","highlightpriority","highlightmods","highlightchime"].forEach(function(A){window.setTimeout(function(){GM_deleteValue("kong_"+A)},0)}),!1}),e._chat_commands.hl=e._chat_commands.highlight,e._chat_commands.hlfriend=e._chat_commands.hlfriends,e._highlighting=[],e._hluser=[];var r="#def6ea",s="#deeaf6",l="#006600",h="#ba6328",c=1,g=1,p=1,u=1;if("function"!=typeof GM_setValue)GM_setValue=GM_getValue=function(){};else{var d=GM_getValue("kong_highlightcolor","");d&&(GM_setValue("kong_hlcolor",d),"undefined"==typeof GM_deleteValue?GM_setValue("kong_highlightcolor",""):GM_deleteValue("kong_highlightcolor"));var m=GM_getValue("kong_highlighting"),_=GM_getValue("kong_highlightuser");r=GM_getValue("kong_hlcolor","#def6ea")||"#def6ea",s=GM_getValue("kong_whispercolor","#deeaf6")||"#deeaf6",l=GM_getValue("kong_friendcolor","#006600")||"#006600",h=GM_getValue("kong_modcolor","#ba6328")||"#ba6328",g=GM_getValue("kong_highlightfriends",1),c=GM_getValue("kong_highlightpriority",1),p=GM_getValue("kong_highlightmods",1),u=GM_getValue("kong_highlightchime",1),m&&(e._highlighting=m.trim().split(" ")),_&&(e._hluser=_.trim().split(" "))}e._hl_friends=g,e._hl_mods=p,e._hl_chime=u,e._hl_priority=c;var f=document.createElement("style"),w=document.getElementsByTagName("head")[0];(w||document.body).appendChild(f);for(var v=null,C=document.styleSheets.length-1;C>=0;--C)try{if(document.styleSheets[C].cssRules&&document.styleSheets[C].cssRules.length){v=document.styleSheets[C];break}}catch(A){}if(!v)return void alert("Kongregate Chat Line Highlighting could not find a style sheet!\nPlease send a message to Ventero about this problem.");v.insertRule("#kong_game_ui .chat_message_window .whisper { background-color: "+s+" !important; }",v.cssRules.length),v.insertRule("#kong_game_ui .chat_message_window .highlight.even { background-color: "+r+" !important; }",v.cssRules.length),v.insertRule("#kong_game_ui .chat_message_window .highlight { background-color: "+r+" !important; }",v.cssRules.length),v.insertRule("#kong_game_ui .chat_message_window .hlfriend span.chat_message_window_username { color: "+l+" !important; }",v.cssRules.length),v.insertRule("#kong_game_ui .chat_message_window .hlmod span.chat_message_window_username { color: "+h+" !important; }",v.cssRules.length)}},MIXIN$0(e.prototype,t),t=void 0,e}(HolodeckScript),ChatTimestamp=function(A){"use strict";function e(){A.prototype.constructor.call(this,"Chat Timestamp","games",!0)}PRS$0||MIXIN$0(e,A);var t={};return null!==A&&SP$0(e,A),e.prototype=OC$0(null!==A?A.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),DP$0(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),t.run=function(){var A=this.dom,e=A.holodeck,t=A.ChatDialogue;if(e&&t&&(t.prototype=A.CDprototype||A.ChatDialogue.prototype,!e.__timestamp)){e.__timestamp=!0,e.addChatCommand("timeformat",function(A,e){var t=e.match(/^\/\S+\s+(\d+)/),o="",i=A.activeDialogue();return t&&(o=t[1]),12==o||24==o?(A._timeFormat=o,window.setTimeout(function(){GM_setValue("kong_timeformat",o)},0),i.displayMessage("Timeformat","Set to "+o+"-hour clock (hh:mm:ss"+(12==o?" AM/PM)":")"),{class:"whisper received_whisper"},{non_user:!0})):i.displayMessage("Timeformat","Allowed values: 12 and 24",{class:"whisper received_whisper"},{non_user:!0}),!1}),e.addChatCommand("tscolor",function(A,e){var t=e.match(/^\/\S+\s+([0-9a-f]{6})/i),o="";return t&&(o="#"+t[1]),o?(a(o),window.setTimeout(function(){GM_setValue("kong_timestampcolor",o)},0),A.activeDialogue().displayMessage("Timestamp","Set font-color to "+o,{class:"whisper received_whisper"},{non_user:!0})):A.activeDialogue().displayMessage("Timestamp","No valid color! Format is /tscolor ###### (# = hex character)",{class:"whisper received_whisper"},{non_user:!0}),!1}),e.addChatCommand("toggleseconds",function(A,e){return A._showSeconds?(A._showSeconds=0,A.activeDialogue().displayMessage("Timestamp","Now hiding seconds",{class:"whisper received_whisper"},{non_user:!0})):(A._showSeconds=1,A.activeDialogue().displayMessage("Timestamp","Now showing seconds",{class:"whisper received_whisper"},{non_user:!0})),window.setTimeout(function(){GM_setValue("kong_timeshowseconds",A._showSeconds)},0),!1});var o=12,i="#999999",n=0;o=GM_getValue("kong_timeformat",12)||12,i=GM_getValue("kong_timestampcolor","#999999")||"#999999",n=GM_getValue("kong_timeshowseconds",0)||0,e._timeFormat=o,e._showSeconds=n;var a=function(A){function e(A){t.innerHTML="span.inline_timestamp { color: "+A+" !important; }"}var t=document.createElement("style");return t.setAttribute("type","text/css"),e(A),document.body.appendChild(t),e}(i);t.MESSAGE_TEMPLATE.template='<p class="#{classNames}"><span style="float: left;" class="inline_timestamp">[#{time}]&nbsp;</span><span username="#{username}" class="username #{userClassNames}">#{prefix}#{username}</span><span class="separator">: </span><span class="message">#{message}</span><span class="clear"></span></p>',t.MESSAGE_TEMPLATE.old_evaluate_inline=t.MESSAGE_TEMPLATE.evaluate,t.MESSAGE_TEMPLATE.evaluate=function(A){var t,o=new Date,i=o.getHours(),n=o.getMinutes(),a=o.getSeconds();return t=12==e._timeFormat?(i<10?0===i?"12":"0"+i:i>12?i>21?i-12:"0"+(i-12):i)+":"+(n<10?"0":"")+n+(e._showSeconds?":"+(a<10?"0":"")+a:"")+(i>11?" PM":" AM"):(i<10?"0":"")+i+":"+(n<10?"0":"")+n+(e._showSeconds?":"+(a<10?"0":"")+a:""),A.time=t,this.old_evaluate_inline(A)}}},MIXIN$0(e.prototype,t),t=void 0,e}(HolodeckScript),PmNotifier=function(A){"use strict";function e(){A.prototype.constructor.call(this,"Chat PM Notifier","games",!0)}PRS$0||MIXIN$0(e,A);var t={};return null!==A&&SP$0(e,A),e.prototype=OC$0(null!==A?A.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),DP$0(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),t.run=function(){var A=this.dom,e=A.holodeck,t=A.ChatDialogue;if(t&&(t.prototype=A.CDprototype||A.ChatDialogue.prototype,console.log("pm1"),!t.prototype.new_private_message)){console.log("pm2"),A._animatedFav=!1,A._pmCount=0,A._baseTitle=document.title,A._blurred=!1,A._chime=A.document.createElement("audio"),A._chime.setAttribute("src","data:audio/wav;base64,UklGRi4IAABXQVZFZm10IBAAAAABAAEAESsAABErAAABAAgAZGF0YakHAACAgIGBgYKEh4qLjIyNjY2LioqJh4aGio2QkZGRkI6Lh4B3cXJ0dnp/g4aHiImDdm1pZmVnbHR6fYGLlZuhpKOgnp2dnJGCdWldU0pEPjgyOktaaHR+homLjZWYjn9wYFJNSUZCPkNadYuitMXU2+Dn7uXRv7KnoaCkqKagpLO8wsfJyMG7uLetlYBzaF5ZVFNVVFFWYmt1fH58dm9pZl9NOy4hFQsEBAgKDRwyQ1NldICIi4+Xm5iVkId/eHR0dHN0gZWnuMna6fX6/P/979/Ova+knpybmJWZoaOlp6elopuVk4t7bF9SSUNAP0JGR0xZZXB8g4eLjod6aVdJPjEjHyUwPUlSXnKEiYF0aF1SQjIvOEdZa3iJnaqspp6WlZOLipSlus7d5vD17t/Qv7Oup5+cpbPCztHT1dTFrZN6ZVhLPjo/SVRcW1xiZFtKNiQYEAgAAg4fMkBIUV5mZV9ZVVpjZ218kanB0tzl7Ori2M/IyMrIydDd6vX49fHt4cy0nYd5cGVdXWJpb29pZmZhVEIuHRIMBQAEDhonMTY9RkxMSkVCRk9UWWV3ip6uusPLzcrFwLu7wMPFy9fj7/j6+PTs38y4o5OJgXhzdnuAhYR/endvYU87KiAaEw8SGyYxO0BGTlJQS0VAQEZKTllrf5WsvcHBwcC8s62xvcfT4+/z9vn359PEuayhm5iTi4J3alpQTkxFPjovIRYNBQIKHC0+UGFkXltbWFRXaX+UqsPZ4+fq6uHUzs7LyMvT19HGt5+Da19YVFJWW1ZNRTwvJis2QElVX1tRS05QUmF8mbHK5vn79e7j0b60rqqorLjCv7WnkHFVRDYtKzE2NDAvLysnLDlDTVpna2NdYmptdYqlu9Dn+v/68+zeyLavq6eor7i+vbeslnZcTkAzLS0uKiUmJiIdIzE6PkRMTUQ8P0ZLU2mJpLrT7Pv8+fXs28rEwr67v8vW1Mm/uLCllHdeVlJHNichIy5AXH2NjYuKhXpsaHJ6eHFoXFVWYHF2bWFVR0FETFdbV1piZ25/l7TM1tnZ0MfDwcPN1NTKtZ6Uj4iEgHRlU0I+RElSW1tZV1NTXGp/m662uLGloKCls8DCuaaMd2lgX2JeU0Y2KyszP0xSUFBQTlJfc4uisr/Hw7y8wMfS2NTHr5OAdGtpa2pmXlNNUFVaX15bWlhWW2RziJ2uvcbGwsC+wMXHw7ikjXpsY2JmZ2ZhV05LTE5RT0lFRUVKU2Fzhpajr7Owr66usrW0rqGNe25kXl9gX1xVTUtMT1RYWFdZXGFqdYSVpbG7wsK+vLm5vL26sqibj4d/enp5dW9mXFZTUFBQS0dGR0pSYHWGjY2RnK7Ayse3opOSmJaGbFFFSVRWTDwyPVd2iIh8cHWKqr++pouAh5idjGtLP0hdZ1xGOENkj6+2rKCmwOP589aznp+rq5RrQzI7UWBbSDU2T3eaqJ+NhpOwy9G/n4eDjpaIZDodGSk8PzMgGCdLdI+XkIuWstXq5syunaGtr5p0TTg6SlZTRTc3TnWarayhnarH5fPpzK6en6SehmJBMjVCRz4sHiE5X4CRj4WBjqnH1c62npOVmpV/YEU7QlBXTjwtLUJkhZeZk5GbscnVzrunnZ6jnolpSz1BUl9fUkRATmqKoKejnqCsvsnEspyNjJOWinFUPjhATVJMQDg8TmiAjZGSl6S5zNTMu6mhpKqpm4BjT0pPWFpTS0ZNXHGAh4aDhIydrbOsnIyGipSZkoFwYVZQUVRZYGdpa25sZWNpdoynur65rqKZlpaVl56ioJmLdV9SS09bZmZcTj4xMjtIU1xbVFJWWFdZXmp/ma24vbispaixvMza39rQwK6gl4yCgYOCfHBcRzs7QEpXW1ZOR0A9Q09gdo2eqK+xqZ+Zl5qltL/AuKaOeWxlYmVrbWpjWk5HRklOVl1fXVxbV1ZbZ3eMn6y0ubq1sK6vsLa9wsTAtqaViH52c3V1cWpgVU5MTk9RVFNQUVNUVVpganeIlZ6kpaGbl5eYm6Glp6ahmY2De3JtbG5vbmpiWlVWWV1jZmZjY2VnbHJ5gImSmqCmqaijn5ybnaKmqKahmZCKhYF9enh0cW5qZmRiYmJkZmdnaGhoaWtvdX2EiYyOkZKSkZGQj5CRkpOSkIqFgHt3dXNyc3R1dnl9gYOBfXh1c3Fta2xvcnV3e4CEhoaGhoiIhoSEhomNkJSan6GhnpuZlpGMiIaGhYOCg4WGhoOBfXp1cGtnZ2dnZ2hrbm9ubGtqaWdmZmltcHN2eXx9fHp6ent7e3x/g4iMj5KWmZqamZeWlJGOi4qJiYmJiouNjY2LioiFgn98e3p5eXl5ent7e3p6enp6enp6e3x8fH19fX19fn5+fn5+f39/f39/f3+AgICAgICAgICBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgABMSVNUWAAAAElORk9JQ09QHwAAAENvcHlyaWdodCCpIENpbmVtYXRyb25pY3MgMTk5NQAASVBSRCMAAABNaWNyb3NvZnQgUGx1cyEgriBmb3IgV2luZG93cyA5NSCuAAA="),A._chime.load(),window.onblur=function(){A._blurred=!0,console.log("Blur1")},console.log("pm3"),window.onfocus=function(){A._blurred=!1,console.log("Focus 1"),A.pmReset()},console.log("pm4"),A.pmReset=function(){A._animatedFav&&A.toggleFavLink(),A._pmCount=0,document.title=A._baseTitle},console.log("pm5"),A.createFavLink=function(A){var e=document.createElement("link");return e.type=A.type,e.rel=A.rel,e.href=A.href,e},console.log("pm6"),A.toggleFavLink=function(){for(var e=document.getElementsByTagName("head")[0],t=e.getElementsByTagName("link"),o=0;o<t.length;o++){var i=t[o];"shortcut icon"==i.rel&&e.removeChild(i)}A._animatedFav?e.appendChild(A.createFavLink(A._staticFavLinkAttr)):e.appendChild(A.createFavLink(A._animatedFavLinkAttr)),A._animatedFav=!A._animatedFav},console.log("pm7"),A._staticFavLinkAttr={rel:"shortcut icon",href:"/favicon.ico",type:"image/x-icon"},A._animatedFavLinkAttr={rel:"shortcut icon",href:"data:image/gif;base64,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%3D",type:"image/gif"},console.log("pm8"),t.prototype.new_private_message=function(){console.log("got pm 1"),(A._blurred||void 0!==document.hidden&&document.hidden||void 0!==document.webkitHidden&&document.webkitHidden)&&(console.log("got pm blurred"),A._pmCount++,A._animatedFav||A.toggleFavLink(),document.title="["+A._pmCount+"] "+A._baseTitle,e._pm_chime&&A._chime.play())},t.prototype.showReceivedPM_notifier||(t.prototype.showReceivedPM_notifier=t.prototype.receivedPrivateMessage,t.prototype.receivedPrivateMessage=function(A){A.data.success&&!this._user_manager.isMuted(A.data.from)&&this.new_private_message(),this.showReceivedPM_notifier(A)}),e.addChatCommand("pmchime",function(A,e){return A._pm_chime?(A._pm_chime=0,A.activeDialogue().kongBotMessage("PM chime is OFF")):(A._pm_chime=1,A.activeDialogue().kongBotMessage("PM chime is ON")),window.setTimeout(function(){GM_setValue("kong_pmchime",A._pm_chime)},0),!1});var o;try{o=GM_setValue?GM_getValue("kong_pmchime",1):1}catch(A){o=1}e._pm_chime=o}},MIXIN$0(e.prototype,t),t=void 0,e}(HolodeckScript),ShowScriptOptions=function(A){"use strict";function e(){A.prototype.constructor.call(this,"this","accounts",!0),this.scripts=[]}PRS$0||MIXIN$0(e,A);var t={};return null!==A&&SP$0(e,A),e.prototype=OC$0(null!==A?A.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),DP$0(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),t.run=function(){var A=(this.dom,new Element("div",{style:"background-color:#FFF;padding: 8px;"}).update("<h2>Scripts</h2>Enable - Script Name<p></p>"));$("profile_aside").down().insert(A),this.scripts.each(function(e){var t=this;if("this"==e.name)return!0;var o=new Element("span",{style:"margin-top: 5px !important;display: block;"});A.insert(o);var i=new Element("input",{type:"checkbox",id:"onescript-"+e.name,style:"margin-top:2px;vertical-align:top;margin-right:8px;"}),n=new Element("label",{class:"pls"});i.checked="true"==GM_getValue(i.id,e.defaultEnabled?"true":"false"),n.update(e.name),o.insert(i),o.insert(n),i.addEventListener("change",function(A){console.log("[KongOne] Toggled script"),GM_setValue(t.id,t.checked)})})},MIXIN$0(e.prototype,t),t=void 0,e}(Script),WhisperCatch=function(A){"use strict";function e(){A.prototype.constructor.call(this,"Whisper Catch","games",!0)}PRS$0||MIXIN$0(e,A);var t={};return null!==A&&SP$0(e,A),e.prototype=OC$0(null!==A?A.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),DP$0(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),t.run=function(){var A=this.dom,t=A.ChatDialogue;holodeck.__wc_whisperCount=0,t.prototype.__wc_receivedPrivateMessage=t.prototype.receivedPrivateMessage,t.prototype.receivedPrivateMessage=function(A){this.__wc_receivedPrivateMessage(A),A.id=holodeck.__wc_whisperCount;var t=JSON.parse(localStorage.getItem(e.WHISPERS_SAVED_KEY))||[];t.push(A),localStorage.setItem(e.WHISPERS_SAVED_KEY,JSON.stringify(t)),setTimeout(this.removeWhisper,e.WHISPER_WAIT_TIME,A)},this.__wc_interval=setInterval(restoreWhispers,e.CHAT_DIALOGUE_RETRY),holodeck.addChatCommand("wctime",function(A,t){var o=t.split(" ").slice(1),i=parseInt(o[0]);return isNaN(i)||(localStorage.setItem(e.WHISPER_WAIT_TIME_KEY,i),A.activeDialogue().displayUnsanitizedMessage("Kong Bot","Whisper save time set to "+i+" seconds.",{class:"whisper received_whisper"},{non_user:!0})),!1})},t.restoreWhispers=function(){var A=holodeck.activeDialogue(),t=JSON.parse(localStorage.getItem(e.WHISPERS_SAVED_KEY))||[];if(A){for(;t.length>0;){var o=t.shift();A.receivedPrivateMessage(o)}clearInterval(this.__wc_interval)}},t.removeWhisper=function(A){var t=(JSON.parse(localStorage.getItem(e.WHISPERS_SAVED_KEY))||[]).filter(function(e){return e.id!=A.id});localStorage.setItem(e.WHISPERS_SAVED_KEY,JSON.stringify(t))},MIXIN$0(e.prototype,t),t=void 0,e}(HolodeckScript);WhisperCatch.WHISPERS_SAVED_KEY="wc-whispers_saved",WhisperCatch.WHISPER_WAIT_TIME_KEY="wc-whisper_wait_time_key",WhisperCatch.WHISPER_WAIT_TIME=1e3*parseInt(localStorage.getItem(WhisperCatch.WHISPER_WAIT_TIME_KEY)||15),WhisperCatch.CHAT_DIALOGUE_RETRY=100,function(){console.log("KongOne Script running."),"undefined"==typeof GM_setValue&&(window.GM_setValue=function(A,e){localStorage.setItem(A,e)},window.GM_getValue=function(A,e){var t=localStorage.getItem(A);return null===t?e:t},window.GM_deleteValue=function(A){localStorage.removeItem(A)});var A=new ShowScriptOptions,e=[A,new ChatTimestamp,new PmNotifier,new WhisperCatch];A.scripts=e,e.each(function(A){return A.initialize()})}();